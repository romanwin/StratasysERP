  CREATE OR REPLACE FORCE VIEW "APPS"."PO_DISTRIBUTION_XML" ("AMOUNT_ORDERED", "AMOUNT_DELIVERED", "AMOUNT_CANCELLED", "DISTRIBUTION_TYPE", "AMOUNT_TO_ENCUMBER", "INVOICE_ADJUSTMENT_FLAG", "DEST_CHARGE_ACCOUNT_ID", "DEST_VARIANCE_ACCOUNT_ID", "PROGRAM_UPDATE_DATE", "PROJECT_ID", "TASK_ID", "EXPENDITURE_TYPE", "PROJECT_ACCOUNTING_CONTEXT", "EXPENDITURE_ORGANIZATION_ID", "GL_CLOSED_DATE", "ACCRUE_ON_RECEIPT_FLAG", "EXPENDITURE_ITEM_DATE", "ORG_ID", "GL_ENCUMBERED_PERIOD_NAME", "GL_CANCELLED_DATE", "DESTINATION_TYPE_CODE", "DESTINATION_ORGANIZATION_ID", "DESTINATION_SUBINVENTORY", "ATTRIBUTE_CATEGORY", "ATTRIBUTE1", "ATTRIBUTE2", "ATTRIBUTE3", "ATTRIBUTE4", "ATTRIBUTE5", "ATTRIBUTE6", "ATTRIBUTE7", "ATTRIBUTE8", "ATTRIBUTE9", "ATTRIBUTE10", "ATTRIBUTE11", "ATTRIBUTE12", "ATTRIBUTE13", "ATTRIBUTE14", "ATTRIBUTE15", "WIP_ENTITY_ID", "WIP_OPERATION_SEQ_NUM", "WIP_RESOURCE_SEQ_NUM", "WIP_REPETITIVE_SCHEDULE_ID", "WIP_LINE_ID", "BOM_RESOURCE_ID", "BUDGET_ACCOUNT_ID", "ACCRUAL_ACCOUNT_ID", "VARIANCE_ACCOUNT_ID", "PREVENT_ENCUMBRANCE_FLAG", "USSGL_TRANSACTION_CODE", "GOVERNMENT_CONTEXT", "PO_DISTRIBUTION_ID", "LAST_UPDATE_DATE", "LAST_UPDATED_BY", "PO_HEADER_ID", "PO_LINE_ID", "LINE_LOCATION_ID", "SET_OF_BOOKS_ID", "CODE_COMBINATION_ID", "QUANTITY_ORDERED", "LAST_UPDATE_LOGIN", "CREATION_DATE", "CREATED_BY", "PO_RELEASE_ID", "QUANTITY_DELIVERED", "QUANTITY_BILLED", "QUANTITY_CANCELLED", "REQ_HEADER_REFERENCE_NUM", "REQ_LINE_REFERENCE_NUM", "REQ_DISTRIBUTION_ID", "DELIVER_TO_LOCATION_ID", "DELIVER_TO_PERSON_ID", "RATE_DATE", "RATE", "AMOUNT_BILLED", "ACCRUED_FLAG", "ENCUMBERED_FLAG", "ENCUMBERED_AMOUNT", "UNENCUMBERED_QUANTITY", "UNENCUMBERED_AMOUNT", "FAILED_FUNDS_LOOKUP_CODE", "GL_ENCUMBERED_DATE", "KANBAN_CARD_ID", "END_ITEM_UNIT_NUMBER", "AWARD_ID", "MRC_RATE_DATE", "MRC_RATE", "MRC_ENCUMBERED_AMOUNT", "MRC_UNENCUMBERED_AMOUNT", "RECOVERABLE_TAX", "NONRECOVERABLE_TAX", "RECOVERY_RATE", "TAX_RECOVERY_OVERRIDE_FLAG", "OKE_CONTRACT_LINE_ID", "OKE_CONTRACT_DELIVERABLE_ID", "DESTINATION_CONTEXT", "DISTRIBUTION_NUM", "SOURCE_DISTRIBUTION_ID", "REQUEST_ID", "PROGRAM_APPLICATION_ID", "PROGRAM_ID", "CHARGE_ACCOUNT", "FULL_NAME", "WORK_TELEPHONE", "EMAIL_ADDRESS", "REQUESTER_DELIVER_FIRST_NAME", "REQUESTER_DELIVER_LAST_NAME", "REQUESTER_DELIVER_TITLE", "QUANTITY_FINANCED", "AMOUNT_FINANCED", "QUANTITY_RECOUPED", "AMOUNT_RECOUPED", "RETAINAGE_WITHHELD_AMOUNT", "RETAINAGE_RELEASED_AMOUNT") AS 
  SELECT TO_CHAR(PD.AMOUNT_ORDERED, PGT.FORMAT_MASK) AMOUNT_ORDERED, TO_CHAR(PD.AMOUNT_DELIVERED, PGT.FORMAT_MASK) AMOUNT_DELIVERED, TO_CHAR(PD.AMOUNT_CANCELLED, PGT.FORMAT_MASK) AMOUNT_CANCELLED, PD.DISTRIBUTION_TYPE, TO_CHAR(PD.AMOUNT_TO_ENCUMBER, PGT.FORMAT_MASK) AMOUNT_TO_ENCUMBER, PD.INVOICE_ADJUSTMENT_FLAG, PD.DEST_CHARGE_ACCOUNT_ID, PD.DEST_VARIANCE_ACCOUNT_ID, TO_CHAR(PD.PROGRAM_UPDATE_DATE,'DD-MON-YYYY HH24:MI:SS') PROGRAM_UPDATE_DATE, PD.PROJECT_ID, PD.TASK_ID, PD.EXPENDITURE_TYPE, PD.PROJECT_ACCOUNTING_CONTEXT, PD.EXPENDITURE_ORGANIZATION_ID, TO_CHAR(PD.GL_CLOSED_DATE,'DD-MON-YYYY HH24:MI:SS') GL_CLOSED_DATE, PD.ACCRUE_ON_RECEIPT_FLAG, TO_CHAR(PD.EXPENDITURE_ITEM_DATE, 'DD-MON-YYYY HH24:MI:SS') EXPENDITURE_ITEM_DATE, PD.ORG_ID, PD.GL_ENCUMBERED_PERIOD_NAME, TO_CHAR(PD.GL_CANCELLED_DATE, 'DD-MON-YYYY HH24:MI:SS') GL_CANCELLED_DATE, PD.DESTINATION_TYPE_CODE, PD.DESTINATION_ORGANIZATION_ID, PD.DESTINATION_SUBINVENTORY, PD.ATTRIBUTE_CATEGORY, PD.ATTRIBUTE1, PD.ATTRIBUTE2, PD.ATTRIBUTE3, PD.ATTRIBUTE4, PD.ATTRIBUTE5, PD.ATTRIBUTE6, PD.ATTRIBUTE7, PD.ATTRIBUTE8, PD.ATTRIBUTE9, PD.ATTRIBUTE10, PD.ATTRIBUTE11, PD.ATTRIBUTE12, PD.ATTRIBUTE13, PD.ATTRIBUTE14, PD.ATTRIBUTE15, PD.WIP_ENTITY_ID, PD.WIP_OPERATION_SEQ_NUM, PD.WIP_RESOURCE_SEQ_NUM, PD.WIP_REPETITIVE_SCHEDULE_ID, PD.WIP_LINE_ID, PD.BOM_RESOURCE_ID, PD.BUDGET_ACCOUNT_ID, PD.ACCRUAL_ACCOUNT_ID, PD.VARIANCE_ACCOUNT_ID, PD.PREVENT_ENCUMBRANCE_FLAG, PD.USSGL_TRANSACTION_CODE, PD.GOVERNMENT_CONTEXT, PD.PO_DISTRIBUTION_ID, TO_CHAR(PD.LAST_UPDATE_DATE,'DD-MON-YYYY HH24:MI:SS') LAST_UPDATE_DATE, PD.LAST_UPDATED_BY, PD.PO_HEADER_ID, PD.PO_LINE_ID, PD.LINE_LOCATION_ID, PD.SET_OF_BOOKS_ID, PD.CODE_COMBINATION_ID, PD.QUANTITY_ORDERED, PD.LAST_UPDATE_LOGIN, TO_CHAR(PD.CREATION_DATE,'DD-MON-YYYY HH24:MI:SS') CREATION_DATE, PD.CREATED_BY, PD.PO_RELEASE_ID, PD.QUANTITY_DELIVERED, PD.QUANTITY_BILLED, PD.QUANTITY_CANCELLED, PD.REQ_HEADER_REFERENCE_NUM, PD.REQ_LINE_REFERENCE_NUM, PD.REQ_DISTRIBUTION_ID, PD.DELIVER_TO_LOCATION_ID, PD.DELIVER_TO_PERSON_ID, TO_CHAR(PD.RATE_DATE, 'DD-MON-YYYY HH24:MI:SS') RATE_DATE, TO_CHAR(PD.RATE, PGT.FORMAT_MASK) RATE, TO_CHAR(PD.AMOUNT_BILLED, PGT.FORMAT_MASK) AMOUNT_BILLED, PD.ACCRUED_FLAG, PD.ENCUMBERED_FLAG, TO_CHAR(PD.ENCUMBERED_AMOUNT, PGT.FORMAT_MASK) ENCUMBERED_AMOUNT, PD.UNENCUMBERED_QUANTITY, TO_CHAR(PD.UNENCUMBERED_AMOUNT, PGT.FORMAT_MASK) UNENCUMBERED_AMOUNT, PD.FAILED_FUNDS_LOOKUP_CODE, TO_CHAR(PD.GL_ENCUMBERED_DATE,'DD-MON-YYYY HH24:MI:SS') GL_ENCUMBERED_DATE, PD.KANBAN_CARD_ID, PD.END_ITEM_UNIT_NUMBER, PD.AWARD_ID, PD.MRC_RATE_DATE, PD.MRC_RATE, PD.MRC_ENCUMBERED_AMOUNT, PD.MRC_UNENCUMBERED_AMOUNT, TO_CHAR(PD.RECOVERABLE_TAX, PGT.FORMAT_MASK) RECOVERABLE_TAX, TO_CHAR(PD.NONRECOVERABLE_TAX, PGT.FORMAT_MASK) NONRECOVERABLE_TAX, TO_CHAR(PD.RECOVERY_RATE, PGT.FORMAT_MASK) RECOVERY_RATE, PD.TAX_RECOVERY_OVERRIDE_FLAG, PD.OKE_CONTRACT_LINE_ID, PD.OKE_CONTRACT_DELIVERABLE_ID, PD.DESTINATION_CONTEXT, PD.DISTRIBUTION_NUM, PD.SOURCE_DISTRIBUTION_ID, PD.REQUEST_ID, PD.PROGRAM_APPLICATION_ID, PD.PROGRAM_ID, CONCATENATED_SEGMENTS CHARGE_ACCOUNT, PAP.FULL_NAME, PO_COMMUNICATION_PVT.GETPHONE(PD.DELIVER_TO_PERSON_ID) WORK_TELEPHONE, EMAIL_ADDRESS, PAP.FIRST_NAME REQUESTER_DELIVER_FIRST_NAME, PAP.LAST_NAME REQUESTER_DELIVER_LAST_NAME, HRL.MEANING REQUESTER_DELIVER_TITLE, PD.QUANTITY_FINANCED, TO_CHAR(PD.AMOUNT_FINANCED, PGT.FORMAT_MASK) AMOUNT_FINANCED, PD.QUANTITY_RECOUPED, TO_CHAR(PD.AMOUNT_RECOUPED, PGT.FORMAT_MASK) AMOUNT_RECOUPED, TO_CHAR(PD.RETAINAGE_WITHHELD_AMOUNT, PGT.FORMAT_MASK) RETAINAGE_WITHHELD_AMOUNT, TO_CHAR(PD.RETAINAGE_RELEASED_AMOUNT, PGT.FORMAT_MASK) RETAINAGE_RELEASED_AMOUNT FROM PER_ALL_PEOPLE_F PAP, PO_DISTRIBUTIONS_ALL PD, GL_CODE_COMBINATIONS_KFV GCD, PO_COMMUNICATION_GT PGT, HR_LOOKUPS HRL WHERE HRL.LOOKUP_CODE(+) = PAP.TITLE AND HRL.LOOKUP_TYPE(+) = 'TITLE' AND GCD.CODE_COMBINATION_ID(+) = PD.CODE_COMBINATION_ID AND PAP.PERSON_ID(+) = PD.DELIVER_TO_PERSON_ID AND SYSDATE BETWEEN PAP.EFFECTIVE_START_DATE(+) AND PAP.EFFECTIVE_END_DATE(+);
